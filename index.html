<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeadForge AI - Intelligent Lead Generation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;500;600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-void: #050508;
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-elevated: #1a1a24;
      --bg-hover: #22222e;
      --border-subtle: rgba(255,255,255,0.06);
      --border-medium: rgba(255,255,255,0.1);
      --text-primary: #f0f0f5;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --accent-primary: #00e5ff;
      --accent-secondary: #7c3aed;
      --accent-tertiary: #10b981;
      --accent-warning: #f59e0b;
      --accent-danger: #ef4444;
      --glow-primary: rgba(0, 229, 255, 0.15);
      --glow-secondary: rgba(124, 58, 237, 0.15);
      --gradient-primary: linear-gradient(135deg, #00e5ff 0%, #7c3aed 100%);
      --gradient-mesh: radial-gradient(at 20% 30%, rgba(0, 229, 255, 0.08) 0%, transparent 50%),
                       radial-gradient(at 80% 70%, rgba(124, 58, 237, 0.08) 0%, transparent 50%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--bg-void);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* Neural Grid Background */
    .neural-grid {
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 60px 60px;
      pointer-events: none;
      z-index: 0;
    }

    .neural-grid::after {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gradient-mesh);
      animation: meshPulse 20s ease-in-out infinite;
    }

    @keyframes meshPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    /* Floating Particles */
    .particles {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--accent-primary);
      border-radius: 50%;
      opacity: 0.4;
      animation: float 15s infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(100vh) scale(0); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.6; }
      100% { transform: translateY(-100vh) scale(1); opacity: 0; }
    }

    /* Page Sections */
    .page {
      display: none;
      min-height: 100vh;
      position: relative;
      z-index: 10;
    }

    .page.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Navigation */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      padding: 20px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(5, 5, 8, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-subtle);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .logo-mark {
      width: 40px;
      height: 40px;
      background: var(--gradient-primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Space Mono', monospace;
      font-weight: 700;
      font-size: 16px;
      color: var(--bg-void);
      position: relative;
      overflow: hidden;
    }

    .logo-mark::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
      transform: translateX(-100%);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      100% { transform: translateX(100%); }
    }

    .logo-text {
      font-family: 'Syne', sans-serif;
      font-weight: 700;
      font-size: 22px;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 32px;
    }

    .nav-link {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      transition: color 0.2s;
      cursor: pointer;
    }

    .nav-link:hover {
      color: var(--text-primary);
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
    }

    .btn-ghost:hover {
      color: var(--text-primary);
      background: var(--bg-hover);
    }

    .btn-outline {
      background: transparent;
      color: var(--text-primary);
      border: 1px solid var(--border-medium);
    }

    .btn-outline:hover {
      background: var(--bg-hover);
      border-color: var(--accent-primary);
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: var(--bg-void);
      font-weight: 700;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px var(--glow-primary);
    }

    .btn-secondary {
      background: var(--bg-elevated);
      color: var(--text-primary);
      border: 1px solid var(--border-medium);
    }

    .btn-secondary:hover {
      background: var(--bg-hover);
    }

    .btn-lg {
      padding: 16px 32px;
      font-size: 16px;
      border-radius: 10px;
    }

    .btn-sm {
      padding: 8px 16px;
      font-size: 13px;
    }

    .btn-icon {
      width: 40px;
      height: 40px;
      padding: 0;
      border-radius: 8px;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn.loading {
      position: relative;
      color: transparent !important;
    }

    .btn.loading::after {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      border: 2px solid currentColor;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    .btn-primary.loading::after {
      border-color: var(--bg-void);
      border-top-color: transparent;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ===== LANDING PAGE ===== */
    .hero {
      padding: 160px 40px 100px;
      max-width: 1400px;
      margin: 0 auto;
      text-align: center;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--bg-surface);
      border: 1px solid var(--border-medium);
      border-radius: 100px;
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 32px;
    }

    .hero-badge-dot {
      width: 6px;
      height: 6px;
      background: var(--accent-tertiary);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }

    .hero h1 {
      font-family: 'Syne', sans-serif;
      font-size: clamp(48px, 8vw, 80px);
      font-weight: 800;
      line-height: 1.05;
      margin-bottom: 24px;
      letter-spacing: -2px;
    }

    .hero h1 .gradient {
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 20px;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto 48px;
      line-height: 1.7;
    }

    .hero-cta {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .hero-stats {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 60px;
      margin-top: 80px;
      padding-top: 60px;
      border-top: 1px solid var(--border-subtle);
    }

    .hero-stat {
      text-align: center;
    }

    .hero-stat-value {
      font-family: 'Space Mono', monospace;
      font-size: 36px;
      font-weight: 700;
      color: var(--accent-primary);
    }

    .hero-stat-label {
      font-size: 14px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    /* Features Section */
    .features {
      padding: 100px 40px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 60px;
    }

    .section-label {
      font-family: 'Space Mono', monospace;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--accent-primary);
      margin-bottom: 16px;
    }

    .section-title {
      font-family: 'Syne', sans-serif;
      font-size: 42px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .section-subtitle {
      font-size: 18px;
      color: var(--text-secondary);
      max-width: 500px;
      margin: 0 auto;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    .feature-card {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: 16px;
      padding: 32px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .feature-card:hover {
      border-color: var(--border-medium);
      transform: translateY(-4px);
    }

    .feature-card:hover::before {
      opacity: 1;
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      background: var(--bg-elevated);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 20px;
    }

    .feature-card h3 {
      font-family: 'Syne', sans-serif;
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .feature-card p {
      font-size: 15px;
      color: var(--text-secondary);
      line-height: 1.7;
    }

    /* Pricing Section */
    .pricing {
      padding: 100px 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      align-items: start;
    }

    .pricing-card {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: 20px;
      padding: 40px;
      position: relative;
    }

    .pricing-card.featured {
      background: var(--bg-elevated);
      border-color: var(--accent-primary);
      transform: scale(1.05);
    }

    .pricing-card.featured::before {
      content: 'Most Popular';
      position: absolute;
      top: -12px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--gradient-primary);
      color: var(--bg-void);
      font-size: 12px;
      font-weight: 700;
      padding: 6px 16px;
      border-radius: 100px;
    }

    .pricing-name {
      font-family: 'Syne', sans-serif;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .pricing-desc {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }

    .pricing-price {
      display: flex;
      align-items: baseline;
      gap: 4px;
      margin-bottom: 32px;
    }

    .pricing-currency {
      font-size: 24px;
      color: var(--text-secondary);
    }

    .pricing-amount {
      font-family: 'Space Mono', monospace;
      font-size: 56px;
      font-weight: 700;
      line-height: 1;
    }

    .pricing-period {
      font-size: 16px;
      color: var(--text-muted);
    }

    .pricing-features {
      list-style: none;
      margin-bottom: 32px;
    }

    .pricing-features li {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      font-size: 15px;
      color: var(--text-secondary);
      border-bottom: 1px solid var(--border-subtle);
    }

    .pricing-features li:last-child {
      border-bottom: none;
    }

    .pricing-features .check {
      color: var(--accent-tertiary);
      font-size: 18px;
    }

    /* ===== AUTH PAGES ===== */
    .auth-container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .auth-card {
      width: 100%;
      max-width: 440px;
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: 20px;
      padding: 48px;
    }

    .auth-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .auth-header h2 {
      font-family: 'Syne', sans-serif;
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .auth-header p {
      color: var(--text-secondary);
      font-size: 15px;
    }

    .form-group {
      margin-bottom: 24px;
    }

    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .form-input {
      width: 100%;
      padding: 14px 16px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-medium);
      border-radius: 10px;
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      color: var(--text-primary);
      transition: all 0.2s;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px var(--glow-primary);
    }

    .form-input::placeholder {
      color: var(--text-muted);
    }

    .form-hint {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 6px;
    }

    .form-error {
      font-size: 13px;
      color: var(--accent-danger);
      margin-top: 6px;
    }

    .auth-divider {
      display: flex;
      align-items: center;
      gap: 16px;
      margin: 32px 0;
    }

    .auth-divider::before,
    .auth-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border-subtle);
    }

    .auth-divider span {
      font-size: 13px;
      color: var(--text-muted);
    }

    .auth-footer {
      text-align: center;
      margin-top: 32px;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .auth-footer a {
      color: var(--accent-primary);
      text-decoration: none;
      font-weight: 600;
    }

    .auth-footer a:hover {
      text-decoration: underline;
    }

    /* ===== DASHBOARD ===== */
    .dashboard {
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 260px;
      background: var(--bg-surface);
      border-right: 1px solid var(--border-subtle);
      padding: 24px;
      display: flex;
      flex-direction: column;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      z-index: 50;
    }

    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 40px;
      text-decoration: none;
    }

    .sidebar-nav {
      flex: 1;
    }

    .sidebar-section {
      margin-bottom: 32px;
    }

    .sidebar-section-title {
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--text-muted);
      margin-bottom: 12px;
      padding-left: 12px;
    }

    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
      margin-bottom: 4px;
    }

    .sidebar-link:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
    }

    .sidebar-link.active {
      background: var(--bg-elevated);
      color: var(--accent-primary);
    }

    .sidebar-link-icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    .sidebar-user {
      padding: 16px;
      background: var(--bg-elevated);
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .sidebar-user-avatar {
      width: 40px;
      height: 40px;
      background: var(--gradient-primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 16px;
      color: var(--bg-void);
    }

    .sidebar-user-info {
      flex: 1;
      min-width: 0;
    }

    .sidebar-user-name {
      font-weight: 600;
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .sidebar-user-plan {
      font-size: 12px;
      color: var(--text-muted);
    }

    .main-content {
      flex: 1;
      margin-left: 260px;
      padding: 32px 40px;
    }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 32px;
    }

    .page-title {
      font-family: 'Syne', sans-serif;
      font-size: 28px;
      font-weight: 700;
    }

    .page-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      margin-top: 4px;
    }

    /* Stats Cards */
    .stats-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: 16px;
      padding: 24px;
    }

    .stat-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .stat-card-icon {
      width: 40px;
      height: 40px;
      background: var(--bg-elevated);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .stat-card-trend {
      font-size: 12px;
      font-weight: 600;
      padding: 4px 8px;
      border-radius: 100px;
    }

    .stat-card-trend.up {
      background: rgba(16, 185, 129, 0.1);
      color: var(--accent-tertiary);
    }

    .stat-card-trend.down {
      background: rgba(239, 68, 68, 0.1);
      color: var(--accent-danger);
    }

    .stat-card-value {
      font-family: 'Space Mono', monospace;
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .stat-card-label {
      font-size: 14px;
      color: var(--text-secondary);
    }

    /* Cards & Panels */
    .panel {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: 16px;
      overflow: hidden;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 1px solid var(--border-subtle);
    }

    .panel-title {
      font-family: 'Syne', sans-serif;
      font-size: 18px;
      font-weight: 600;
    }

    .panel-body {
      padding: 24px;
    }

    /* Scraping Controls */
    .scrape-controls {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 24px;
    }

    .select-wrapper {
      position: relative;
    }

    .form-select {
      width: 100%;
      padding: 14px 44px 14px 16px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-medium);
      border-radius: 10px;
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      color: var(--text-primary);
      appearance: none;
      cursor: pointer;
      transition: all 0.2s;
    }

    .form-select:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px var(--glow-primary);
    }

    .select-wrapper::after {
      content: '\25BC';
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 10px;
      color: var(--text-muted);
      pointer-events: none;
    }

    /* Tags Input */
    .tags-input-wrapper {
      background: var(--bg-elevated);
      border: 1px solid var(--border-medium);
      border-radius: 10px;
      padding: 8px 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      min-height: 50px;
      align-items: center;
      transition: all 0.2s;
    }

    .tags-input-wrapper:focus-within {
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px var(--glow-primary);
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--bg-surface);
      border: 1px solid var(--border-medium);
      border-radius: 6px;
      font-size: 13px;
    }

    .tag.scraped {
      background: rgba(16, 185, 129, 0.1);
      border-color: var(--accent-tertiary);
      color: var(--accent-tertiary);
    }

    .tag-remove {
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .tag-remove:hover {
      opacity: 1;
    }

    .tags-input {
      flex: 1;
      min-width: 120px;
      background: transparent;
      border: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      color: var(--text-primary);
      outline: none;
    }

    .tags-input::placeholder {
      color: var(--text-muted);
    }

    /* Progress */
    .progress-container {
      margin-top: 24px;
      display: none;
    }

    .progress-container.active {
      display: block;
    }

    .progress-bar-wrapper {
      height: 8px;
      background: var(--bg-elevated);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .progress-bar {
      height: 100%;
      background: var(--gradient-primary);
      width: 0%;
      transition: width 0.3s;
      border-radius: 4px;
    }

    .progress-text {
      font-family: 'Space Mono', monospace;
      font-size: 13px;
      color: var(--text-secondary);
    }

    /* Table */
    .table-wrapper {
      overflow-x: auto;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
    }

    .data-table th {
      text-align: left;
      padding: 14px 20px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border-subtle);
    }

    .data-table td {
      padding: 16px 20px;
      font-size: 14px;
      border-bottom: 1px solid var(--border-subtle);
    }

    .data-table tr:last-child td {
      border-bottom: none;
    }

    .data-table tr:hover td {
      background: rgba(0, 229, 255, 0.02);
    }

    /* Badge */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
    }

    .badge-success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--accent-tertiary);
    }

    .badge-warning {
      background: rgba(245, 158, 11, 0.1);
      color: var(--accent-warning);
    }

    .badge-danger {
      background: rgba(239, 68, 68, 0.1);
      color: var(--accent-danger);
    }

    .badge-info {
      background: rgba(0, 229, 255, 0.1);
      color: var(--accent-primary);
    }

    /* Settings */
    .settings-section {
      margin-bottom: 40px;
    }

    .settings-section-title {
      font-family: 'Syne', sans-serif;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-subtle);
    }

    .settings-row {
      display: flex;
      align-items: flex-start;
      gap: 40px;
      margin-bottom: 24px;
    }

    .settings-label-col {
      width: 280px;
      flex-shrink: 0;
    }

    .settings-label {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .settings-hint {
      font-size: 13px;
      color: var(--text-muted);
      line-height: 1.5;
    }

    .settings-input-col {
      flex: 1;
    }

    /* API Key Input */
    .api-key-input {
      display: flex;
      gap: 12px;
    }

    .api-key-input .form-input {
      flex: 1;
      font-family: 'Space Mono', monospace;
      font-size: 14px;
    }

    /* Toggle */
    .toggle {
      position: relative;
      width: 48px;
      height: 26px;
    }

    .toggle input {
      display: none;
    }

    .toggle-slider {
      position: absolute;
      inset: 0;
      background: var(--bg-elevated);
      border: 1px solid var(--border-medium);
      border-radius: 100px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .toggle-slider::before {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: var(--text-secondary);
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: all 0.2s;
    }

    .toggle input:checked + .toggle-slider {
      background: var(--accent-primary);
      border-color: var(--accent-primary);
    }

    .toggle input:checked + .toggle-slider::before {
      background: var(--bg-void);
      transform: translateX(22px);
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 60px 40px;
    }

    .empty-state-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 24px;
      background: var(--bg-elevated);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
    }

    .empty-state-title {
      font-family: 'Syne', sans-serif;
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .empty-state-text {
      color: var(--text-secondary);
      font-size: 15px;
      max-width: 400px;
      margin: 0 auto;
    }

    /* Toast Notifications */
    .toast-container {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .toast {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 20px;
      background: var(--bg-surface);
      border: 1px solid var(--border-medium);
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .toast-icon {
      font-size: 20px;
    }

    .toast-success .toast-icon { color: var(--accent-tertiary); }
    .toast-error .toast-icon { color: var(--accent-danger); }
    .toast-info .toast-icon { color: var(--accent-primary); }

    .toast-message {
      font-size: 14px;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .stats-row {
        grid-template-columns: repeat(2, 1fr);
      }
      .features-grid,
      .pricing-grid {
        grid-template-columns: 1fr;
        max-width: 500px;
        margin: 0 auto;
      }
      .pricing-card.featured {
        transform: none;
      }
    }

    @media (max-width: 900px) {
      .nav {
        padding: 16px 24px;
      }
      .nav-links {
        display: none;
      }
      .hero {
        padding: 120px 24px 60px;
      }
      .hero-stats {
        flex-direction: column;
        gap: 32px;
      }
      .sidebar {
        transform: translateX(-100%);
      }
      .sidebar.open {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
        padding: 24px;
      }
      .scrape-controls {
        grid-template-columns: 1fr;
      }
      .settings-row {
        flex-direction: column;
        gap: 12px;
      }
      .settings-label-col {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="neural-grid"></div>
  <div class="particles" id="particles"></div>

  <!-- ===== NAVIGATION ===== -->
  <nav class="nav" id="mainNav">
    <a href="#" class="logo" onclick="showPage('landing')">
      <div class="logo-mark">LF</div>
      <span class="logo-text">LeadForge</span>
    </a>
    <div class="nav-links">
      <a class="nav-link" onclick="scrollToSection('features')">Features</a>
      <a class="nav-link" onclick="scrollToSection('pricing')">Pricing</a>
      <a class="nav-link" href="#">Documentation</a>
    </div>
    <div class="nav-actions" id="navActions">
      <button class="btn btn-ghost" onclick="showPage('login')">Sign In</button>
      <button class="btn btn-primary" onclick="showPage('register')">Get Started</button>
    </div>
  </nav>

  <!-- ===== LANDING PAGE ===== -->
  <div class="page active" id="page-landing">
    <section class="hero">
      <div class="hero-badge">
        <span class="hero-badge-dot"></span>
        <span>AI-Powered Lead Generation</span>
      </div>
      <h1>
        Turn Any Market Into<br>
        <span class="gradient">Qualified Leads</span>
      </h1>
      <p class="hero-subtitle">
        LeadForge uses advanced AI agents to scrape, verify, and enrich business leads from any industry and location. Sync directly to GoHighLevel in seconds.
      </p>
      <div class="hero-cta">
        <button class="btn btn-primary btn-lg" onclick="showPage('register')">
          Start Free Trial
        </button>
        <button class="btn btn-outline btn-lg" onclick="scrollToSection('features')">
          See How It Works
        </button>
      </div>
      <div class="hero-stats">
        <div class="hero-stat">
          <div class="hero-stat-value">2.5M+</div>
          <div class="hero-stat-label">Leads Generated</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value">15K+</div>
          <div class="hero-stat-label">Active Users</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value">98%</div>
          <div class="hero-stat-label">Email Accuracy</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-value">50+</div>
          <div class="hero-stat-label">Industries</div>
        </div>
      </div>
    </section>

    <section class="features" id="features">
      <div class="section-header">
        <div class="section-label">Features</div>
        <h2 class="section-title">Everything You Need to Scale</h2>
        <p class="section-subtitle">Built for agencies and businesses who want predictable, high-quality leads.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">&#x1F916;</div>
          <h3>AI-Powered Scraping</h3>
          <p>Our intelligent agents search Google Maps, Yelp, and industry directories to find businesses matching your exact criteria.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x2705;</div>
          <h3>Email Verification</h3>
          <p>Every lead is verified in real-time. No more bounced emails or wasted outreach efforts.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F517;</div>
          <h3>GHL Integration</h3>
          <p>One-click sync to your GoHighLevel account. Leads flow directly into your pipelines and workflows.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F4CA;</div>
          <h3>Smart Deduplication</h3>
          <p>Never scrape the same lead twice. Our system tracks every city and industry combination you've searched.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F680;</div>
          <h3>Bulk Operations</h3>
          <p>Scrape hundreds of cities at once. Queue jobs and let the AI work while you focus on closing deals.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">&#x1F512;</div>
          <h3>GDPR Compliant</h3>
          <p>We only collect publicly available business information. Stay compliant while scaling your outreach.</p>
        </div>
      </div>
    </section>

    <section class="pricing" id="pricing">
      <div class="section-header">
        <div class="section-label">Pricing</div>
        <h2 class="section-title">Simple, Transparent Pricing</h2>
        <p class="section-subtitle">Start free. Scale when you're ready.</p>
      </div>
      <div class="pricing-grid">
        <div class="pricing-card">
          <div class="pricing-name">Starter</div>
          <div class="pricing-desc">Perfect for testing the waters</div>
          <div class="pricing-price">
            <span class="pricing-currency">$</span>
            <span class="pricing-amount">0</span>
            <span class="pricing-period">/month</span>
          </div>
          <ul class="pricing-features">
            <li><span class="check">&#x2713;</span> 100 leads/month</li>
            <li><span class="check">&#x2713;</span> 5 cities per scrape</li>
            <li><span class="check">&#x2713;</span> Basic email verification</li>
            <li><span class="check">&#x2713;</span> CSV export</li>
          </ul>
          <button class="btn btn-outline" style="width: 100%;" onclick="showPage('register')">Get Started</button>
        </div>
        <div class="pricing-card featured">
          <div class="pricing-name">Professional</div>
          <div class="pricing-desc">For growing agencies</div>
          <div class="pricing-price">
            <span class="pricing-currency">$</span>
            <span class="pricing-amount">97</span>
            <span class="pricing-period">/month</span>
          </div>
          <ul class="pricing-features">
            <li><span class="check">&#x2713;</span> 5,000 leads/month</li>
            <li><span class="check">&#x2713;</span> Unlimited cities</li>
            <li><span class="check">&#x2713;</span> Advanced verification</li>
            <li><span class="check">&#x2713;</span> GHL integration</li>
            <li><span class="check">&#x2713;</span> Priority support</li>
          </ul>
          <button class="btn btn-primary" style="width: 100%;" onclick="showPage('register')">Start Free Trial</button>
        </div>
        <div class="pricing-card">
          <div class="pricing-name">Enterprise</div>
          <div class="pricing-desc">For high-volume operations</div>
          <div class="pricing-price">
            <span class="pricing-currency">$</span>
            <span class="pricing-amount">297</span>
            <span class="pricing-period">/month</span>
          </div>
          <ul class="pricing-features">
            <li><span class="check">&#x2713;</span> Unlimited leads</li>
            <li><span class="check">&#x2713;</span> API access</li>
            <li><span class="check">&#x2713;</span> White-label exports</li>
            <li><span class="check">&#x2713;</span> Dedicated support</li>
            <li><span class="check">&#x2713;</span> Custom integrations</li>
          </ul>
          <button class="btn btn-outline" style="width: 100%;" onclick="showPage('register')">Contact Sales</button>
        </div>
      </div>
    </section>
  </div>

  <!-- ===== LOGIN PAGE ===== -->
  <div class="page" id="page-login">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo" style="justify-content: center; margin-bottom: 24px;">
            <div class="logo-mark">LF</div>
          </div>
          <h2>Welcome back</h2>
          <p>Sign in to access your dashboard</p>
        </div>
        <form id="loginForm" onsubmit="handleLogin(event)">
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" class="form-input" id="loginEmail" placeholder="you@company.com" required>
          </div>
          <div class="form-group">
            <label class="form-label">Password</label>
            <input type="password" class="form-input" id="loginPassword" placeholder="Enter your password" required>
          </div>
          <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;" id="loginBtn">
            Sign In
          </button>
        </form>
        <div class="auth-footer">
          Don't have an account? <a href="#" onclick="showPage('register')">Sign up</a>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== REGISTER PAGE ===== -->
  <div class="page" id="page-register">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo" style="justify-content: center; margin-bottom: 24px;">
            <div class="logo-mark">LF</div>
          </div>
          <h2>Create your account</h2>
          <p>Start your 14-day free trial</p>
        </div>
        <form id="registerForm" onsubmit="handleRegister(event)">
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-input" id="registerName" placeholder="John Doe" required>
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" class="form-input" id="registerEmail" placeholder="you@company.com" required>
          </div>
          <div class="form-group">
            <label class="form-label">Password</label>
            <input type="password" class="form-input" id="registerPassword" placeholder="Create a password" required minlength="8">
            <p class="form-hint">Must be at least 8 characters</p>
          </div>
          <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;" id="registerBtn">
            Create Account
          </button>
        </form>
        <div class="auth-footer">
          Already have an account? <a href="#" onclick="showPage('login')">Sign in</a>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== DASHBOARD ===== -->
  <div class="page" id="page-dashboard">
    <div class="dashboard">
      <aside class="sidebar" id="sidebar">
        <a href="#" class="sidebar-logo" onclick="showPage('landing')">
          <div class="logo-mark">LF</div>
          <span class="logo-text">LeadForge</span>
        </a>
        <nav class="sidebar-nav">
          <div class="sidebar-section">
            <div class="sidebar-section-title">Main</div>
            <a class="sidebar-link active" data-view="overview" onclick="showDashboardView('overview')">
              <span class="sidebar-link-icon">&#x1F4CA;</span>
              <span>Overview</span>
            </a>
            <a class="sidebar-link" data-view="scrape" onclick="showDashboardView('scrape')">
              <span class="sidebar-link-icon">&#x1F50D;</span>
              <span>Scrape Leads</span>
            </a>
            <a class="sidebar-link" data-view="leads" onclick="showDashboardView('leads')">
              <span class="sidebar-link-icon">&#x1F465;</span>
              <span>My Leads</span>
            </a>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-section-title">Integrations</div>
            <a class="sidebar-link" data-view="ghl" onclick="showDashboardView('ghl')">
              <span class="sidebar-link-icon">&#x1F517;</span>
              <span>GoHighLevel</span>
            </a>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-section-title">Account</div>
            <a class="sidebar-link" data-view="settings" onclick="showDashboardView('settings')">
              <span class="sidebar-link-icon">&#x2699;</span>
              <span>Settings</span>
            </a>
            <a class="sidebar-link" data-view="billing" onclick="showDashboardView('billing')">
              <span class="sidebar-link-icon">&#x1F4B3;</span>
              <span>Billing</span>
            </a>
          </div>
        </nav>
        <div class="sidebar-user">
          <div class="sidebar-user-avatar" id="userAvatar">B</div>
          <div class="sidebar-user-info">
            <div class="sidebar-user-name" id="userName">Ben</div>
            <div class="sidebar-user-plan">Professional Plan</div>
          </div>
        </div>
      </aside>

      <main class="main-content">
        <!-- Overview View -->
        <div class="dashboard-view active" id="view-overview">
          <div class="page-header">
            <div>
              <h1 class="page-title">Dashboard</h1>
              <p class="page-subtitle">Welcome back! Here's your lead generation overview.</p>
            </div>
            <button class="btn btn-primary" onclick="showDashboardView('scrape')">
              <span>&#x2795;</span> New Scrape
            </button>
          </div>

          <div class="stats-row">
            <div class="stat-card">
              <div class="stat-card-header">
                <div class="stat-card-icon">&#x1F465;</div>
                <span class="stat-card-trend up">+12%</span>
              </div>
              <div class="stat-card-value" id="statTotalLeads">0</div>
              <div class="stat-card-label">Total Leads</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-header">
                <div class="stat-card-icon">&#x1F3D9;</div>
              </div>
              <div class="stat-card-value" id="statCitiesScraped">0</div>
              <div class="stat-card-label">Cities Scraped</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-header">
                <div class="stat-card-icon">&#x2705;</div>
              </div>
              <div class="stat-card-value" id="statVerifiedEmails">0</div>
              <div class="stat-card-label">Verified Emails</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-header">
                <div class="stat-card-icon">&#x1F504;</div>
              </div>
              <div class="stat-card-value" id="statGhlSynced">0</div>
              <div class="stat-card-label">Synced to GHL</div>
            </div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h3 class="panel-title">Recent Activity</h3>
            </div>
            <div class="panel-body" id="recentActivity">
              <div class="empty-state">
                <div class="empty-state-icon">&#x1F4C8;</div>
                <div class="empty-state-title">No activity yet</div>
                <div class="empty-state-text">Start scraping leads to see your activity here</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Scrape View -->
        <div class="dashboard-view" id="view-scrape">
          <div class="page-header">
            <div>
              <h1 class="page-title">Scrape Leads</h1>
              <p class="page-subtitle">Find high-quality leads from any industry and location</p>
            </div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h3 class="panel-title">Configure Your Search</h3>
            </div>
            <div class="panel-body">
              <div class="scrape-controls">
                <div class="form-group">
                  <label class="form-label">Industry</label>
                  <div class="select-wrapper">
                    <select class="form-select" id="scrapeIndustry">
                      <option value="">Select an industry...</option>
                      <option value="dentist">Dentists</option>
                      <option value="lawyer">Lawyers</option>
                      <option value="doctor">Doctors</option>
                      <option value="chiropractor">Chiropractors</option>
                      <option value="plumber">Plumbers</option>
                      <option value="electrician">Electricians</option>
                      <option value="hvac">HVAC Companies</option>
                      <option value="roofing">Roofing Companies</option>
                      <option value="restaurant">Restaurants</option>
                      <option value="gym">Gyms & Fitness</option>
                      <option value="realtor">Real Estate Agents</option>
                      <option value="accountant">Accountants</option>
                      <option value="salon">Hair Salons</option>
                      <option value="spa">Spas & Wellness</option>
                      <option value="veterinarian">Veterinarians</option>
                      <option value="auto_repair">Auto Repair Shops</option>
                      <option value="insurance">Insurance Agents</option>
                      <option value="landscaping">Landscaping</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">Max Results Per City</label>
                  <div class="select-wrapper">
                    <select class="form-select" id="scrapeMaxResults">
                      <option value="25">25 results</option>
                      <option value="50" selected>50 results</option>
                      <option value="100">100 results</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Cities (Press Enter to add)</label>
                <div class="tags-input-wrapper" id="cityTagsWrapper">
                  <input type="text" class="tags-input" id="cityInput" placeholder="e.g., Austin, TX">
                </div>
                <p class="form-hint">Add multiple cities to scrape in batch. Previously scraped cities will be highlighted.</p>
              </div>

              <button class="btn btn-primary btn-lg" id="startScrapeBtn" onclick="startScrape()" disabled>
                <span>&#x1F50D;</span> Start Scraping
              </button>

              <div class="progress-container" id="scrapeProgress">
                <div class="progress-bar-wrapper">
                  <div class="progress-bar" id="scrapeProgressBar"></div>
                </div>
                <div class="progress-text" id="scrapeProgressText">Initializing...</div>
              </div>
            </div>
          </div>

          <div class="panel" style="margin-top: 24px;">
            <div class="panel-header">
              <h3 class="panel-title">Scrape Results</h3>
              <div style="display: flex; gap: 12px;">
                <button class="btn btn-secondary btn-sm" id="exportCsvBtn" onclick="exportToCsv()" disabled>
                  Export CSV
                </button>
                <button class="btn btn-primary btn-sm" id="syncGhlBtn" onclick="syncToGhl()" disabled>
                  Sync to GHL
                </button>
              </div>
            </div>
            <div class="panel-body" id="scrapeResults">
              <div class="empty-state">
                <div class="empty-state-icon">&#x1F50E;</div>
                <div class="empty-state-title">No results yet</div>
                <div class="empty-state-text">Configure your search above and click "Start Scraping"</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Leads View -->
        <div class="dashboard-view" id="view-leads">
          <div class="page-header">
            <div>
              <h1 class="page-title">My Leads</h1>
              <p class="page-subtitle">View and manage all your scraped leads</p>
            </div>
            <button class="btn btn-secondary">
              <span>&#x1F4E5;</span> Export All
            </button>
          </div>

          <div class="panel">
            <div class="panel-body" id="allLeads">
              <div class="empty-state">
                <div class="empty-state-icon">&#x1F4C2;</div>
                <div class="empty-state-title">No leads yet</div>
                <div class="empty-state-text">Your scraped leads will appear here</div>
              </div>
            </div>
          </div>
        </div>

        <!-- GHL Integration View -->
        <div class="dashboard-view" id="view-ghl">
          <div class="page-header">
            <div>
              <h1 class="page-title">GoHighLevel Integration</h1>
              <p class="page-subtitle">Connect your GHL account to sync leads automatically</p>
            </div>
          </div>

          <div class="panel">
            <div class="panel-body">
              <div class="settings-section">
                <div class="settings-section-title">API Configuration</div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">GHL API Key</div>
                    <div class="settings-hint">Enter your GoHighLevel API key to enable lead syncing. You can find this in your GHL settings under API Keys.</div>
                  </div>
                  <div class="settings-input-col">
                    <div class="api-key-input">
                      <input type="password" class="form-input" id="ghlApiKey" placeholder="eyJhbGciOiJIUzI1NiIs...">
                      <button class="btn btn-secondary" onclick="saveGhlKey()">Save</button>
                    </div>
                  </div>
                </div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Location ID</div>
                    <div class="settings-hint">Your GHL Location ID determines where leads will be synced.</div>
                  </div>
                  <div class="settings-input-col">
                    <div class="api-key-input">
                      <input type="text" class="form-input" id="ghlLocationId" placeholder="fl5rL3eZQWBq2GYlDPkl">
                      <button class="btn btn-secondary" onclick="saveGhlLocation()">Save</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Sync Settings</div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Auto-sync new leads</div>
                    <div class="settings-hint">Automatically sync leads to GHL when scraping completes</div>
                  </div>
                  <div class="settings-input-col">
                    <label class="toggle">
                      <input type="checkbox" id="ghlAutoSync">
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Default Pipeline</div>
                    <div class="settings-hint">Select the pipeline where new leads will be added</div>
                  </div>
                  <div class="settings-input-col">
                    <div class="select-wrapper">
                      <select class="form-select" id="ghlPipeline">
                        <option value="">Connect GHL first...</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Connection Status</div>
                <div id="ghlStatus" style="display: flex; align-items: center; gap: 12px;">
                  <span class="badge badge-warning">Not Connected</span>
                  <span style="color: var(--text-secondary); font-size: 14px;">Enter your API key to connect</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Settings View -->
        <div class="dashboard-view" id="view-settings">
          <div class="page-header">
            <div>
              <h1 class="page-title">Settings</h1>
              <p class="page-subtitle">Manage your account preferences</p>
            </div>
          </div>

          <div class="panel">
            <div class="panel-body">
              <div class="settings-section">
                <div class="settings-section-title">Profile</div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Full Name</div>
                  </div>
                  <div class="settings-input-col">
                    <input type="text" class="form-input" id="settingsName" value="Ben">
                  </div>
                </div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Email</div>
                  </div>
                  <div class="settings-input-col">
                    <input type="email" class="form-input" id="settingsEmail" value="ben@example.com" disabled>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Security</div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Change Password</div>
                  </div>
                  <div class="settings-input-col">
                    <button class="btn btn-secondary">Update Password</button>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Danger Zone</div>
                <div class="settings-row">
                  <div class="settings-label-col">
                    <div class="settings-label">Delete Account</div>
                    <div class="settings-hint">Permanently delete your account and all associated data</div>
                  </div>
                  <div class="settings-input-col">
                    <button class="btn btn-outline" style="border-color: var(--accent-danger); color: var(--accent-danger);">Delete Account</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Billing View -->
        <div class="dashboard-view" id="view-billing">
          <div class="page-header">
            <div>
              <h1 class="page-title">Billing</h1>
              <p class="page-subtitle">Manage your subscription and payment methods</p>
            </div>
          </div>

          <div class="panel">
            <div class="panel-body">
              <div class="settings-section">
                <div class="settings-section-title">Current Plan</div>
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 24px; background: var(--bg-elevated); border-radius: 12px;">
                  <div>
                    <div style="font-family: 'Syne', sans-serif; font-size: 24px; font-weight: 700; margin-bottom: 4px;">Professional</div>
                    <div style="color: var(--text-secondary);">5,000 leads/month &bull; Unlimited cities &bull; GHL integration</div>
                  </div>
                  <div style="text-align: right;">
                    <div style="font-family: 'Space Mono', monospace; font-size: 32px; font-weight: 700;">$97<span style="font-size: 16px; color: var(--text-muted);">/mo</span></div>
                    <div style="color: var(--text-secondary); font-size: 14px;">Next billing: Feb 15, 2026</div>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Usage This Period</div>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                  <div style="padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">Leads Used</div>
                    <div style="font-family: 'Space Mono', monospace; font-size: 24px; font-weight: 700;">1,247 <span style="font-size: 14px; color: var(--text-muted);">/ 5,000</span></div>
                    <div style="height: 4px; background: var(--bg-surface); border-radius: 2px; margin-top: 12px;">
                      <div style="height: 100%; width: 25%; background: var(--gradient-primary); border-radius: 2px;"></div>
                    </div>
                  </div>
                  <div style="padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">GHL Syncs</div>
                    <div style="font-family: 'Space Mono', monospace; font-size: 24px; font-weight: 700;">892</div>
                  </div>
                  <div style="padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">Cities Scraped</div>
                    <div style="font-family: 'Space Mono', monospace; font-size: 24px; font-weight: 700;">34</div>
                  </div>
                </div>
              </div>

              <div class="settings-section">
                <div class="settings-section-title">Payment Method</div>
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                  <div style="display: flex; align-items: center; gap: 16px;">
                    <div style="width: 48px; height: 32px; background: linear-gradient(135deg, #1a1f71, #00a2e5); border-radius: 6px;"></div>
                    <div>
                      <div style="font-weight: 600;">Visa ending in 4242</div>
                      <div style="font-size: 14px; color: var(--text-secondary);">Expires 12/27</div>
                    </div>
                  </div>
                  <button class="btn btn-secondary btn-sm">Update</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script>
    // ===== APP STATE =====
    const state = {
      user: null,
      leads: [],
      scrapedCities: [],
      selectedCities: [],
      currentResults: [],
      ghlConfig: {
        apiKey: '',
        locationId: '',
        autoSync: false
      }
    };

    const API_BASE = '/.netlify/functions';

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', () => {
      initParticles();
      setupCityInput();
      checkAuth();
    });

    // ===== PARTICLES EFFECT =====
    function initParticles() {
      const container = document.getElementById('particles');
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.animationDelay = `${Math.random() * 15}s`;
        particle.style.animationDuration = `${10 + Math.random() * 10}s`;
        container.appendChild(particle);
      }
    }

    // ===== NAVIGATION =====
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(`page-${pageId}`).classList.add('active');

      // Update nav based on auth state
      const navActions = document.getElementById('navActions');
      if (pageId === 'dashboard' && state.user) {
        navActions.innerHTML = `
          <button class="btn btn-ghost" onclick="logout()">Sign Out</button>
        `;
      } else if (pageId === 'landing') {
        navActions.innerHTML = `
          <button class="btn btn-ghost" onclick="showPage('login')">Sign In</button>
          <button class="btn btn-primary" onclick="showPage('register')">Get Started</button>
        `;
      }

      window.scrollTo(0, 0);
    }

    function showDashboardView(viewId) {
      document.querySelectorAll('.dashboard-view').forEach(v => v.classList.remove('active'));
      document.getElementById(`view-${viewId}`).classList.add('active');

      document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
      document.querySelector(`.sidebar-link[data-view="${viewId}"]`).classList.add('active');
    }

    function scrollToSection(sectionId) {
      document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
    }

    // ===== AUTH =====
    function checkAuth() {
      const savedUser = localStorage.getItem('leadforge_user');
      if (savedUser) {
        state.user = JSON.parse(savedUser);
        updateUserUI();
        loadUserData();
      }
    }

    async function handleLogin(e) {
      e.preventDefault();
      const btn = document.getElementById('loginBtn');
      btn.classList.add('loading');
      btn.disabled = true;

      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;

      // Simulate API call
      await sleep(1000);

      state.user = { email, name: email.split('@')[0] };
      localStorage.setItem('leadforge_user', JSON.stringify(state.user));

      btn.classList.remove('loading');
      btn.disabled = false;

      showToast('success', 'Welcome back!');
      updateUserUI();
      showPage('dashboard');
      loadUserData();
    }

    async function handleRegister(e) {
      e.preventDefault();
      const btn = document.getElementById('registerBtn');
      btn.classList.add('loading');
      btn.disabled = true;

      const name = document.getElementById('registerName').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;

      // Simulate API call
      await sleep(1000);

      state.user = { email, name };
      localStorage.setItem('leadforge_user', JSON.stringify(state.user));

      btn.classList.remove('loading');
      btn.disabled = false;

      showToast('success', 'Account created! Welcome to LeadForge.');
      updateUserUI();
      showPage('dashboard');
    }

    function logout() {
      state.user = null;
      localStorage.removeItem('leadforge_user');
      showPage('landing');
      showToast('info', 'You have been signed out.');
    }

    function updateUserUI() {
      if (state.user) {
        document.getElementById('userName').textContent = state.user.name;
        document.getElementById('userAvatar').textContent = state.user.name.charAt(0).toUpperCase();
        document.getElementById('settingsName').value = state.user.name;
        document.getElementById('settingsEmail').value = state.user.email;
      }
    }

    // ===== DATA LOADING =====
    async function loadUserData() {
      try {
        // Load scraped cities
        const citiesRes = await fetch(`${API_BASE}/get-scraped-cities`);
        if (citiesRes.ok) {
          state.scrapedCities = await citiesRes.json();
          document.getElementById('statCitiesScraped').textContent = state.scrapedCities.length;

          // Calculate total leads from scraped cities
          const totalLeads = state.scrapedCities.reduce((sum, c) => sum + (c.lead_count || 0), 0);
          document.getElementById('statTotalLeads').textContent = totalLeads;
        }

        // Load GHL config
        const savedGhl = localStorage.getItem('leadforge_ghl');
        if (savedGhl) {
          state.ghlConfig = JSON.parse(savedGhl);
          document.getElementById('ghlApiKey').value = state.ghlConfig.apiKey ? '' : '';
          document.getElementById('ghlLocationId').value = state.ghlConfig.locationId || '';
          document.getElementById('ghlAutoSync').checked = state.ghlConfig.autoSync;

          if (state.ghlConfig.apiKey) {
            document.getElementById('ghlStatus').innerHTML = `
              <span class="badge badge-success">Connected</span>
              <span style="color: var(--text-secondary); font-size: 14px;">Ready to sync leads</span>
            `;
          }
        }
      } catch (err) {
        console.error('Failed to load user data:', err);
      }
    }

    // ===== CITY INPUT =====
    function setupCityInput() {
      const input = document.getElementById('cityInput');
      const wrapper = document.getElementById('cityTagsWrapper');

      input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && input.value.trim()) {
          e.preventDefault();
          addCity(input.value.trim());
          input.value = '';
        }
      });
    }

    function addCity(city) {
      if (state.selectedCities.includes(city)) return;
      state.selectedCities.push(city);
      renderCityTags();
      updateScrapeButton();
    }

    function removeCity(city) {
      state.selectedCities = state.selectedCities.filter(c => c !== city);
      renderCityTags();
      updateScrapeButton();
    }

    function renderCityTags() {
      const wrapper = document.getElementById('cityTagsWrapper');
      const input = document.getElementById('cityInput');
      const industry = document.getElementById('scrapeIndustry').value;

      const tagsHtml = state.selectedCities.map(city => {
        const isScraped = state.scrapedCities.some(
          s => s.city.toLowerCase() === city.toLowerCase() && s.industry === industry
        );
        return `
          <div class="tag ${isScraped ? 'scraped' : ''}">
            ${city}${isScraped ? ' (done)' : ''}
            <span class="tag-remove" onclick="removeCity('${city}')">&times;</span>
          </div>
        `;
      }).join('');

      wrapper.innerHTML = tagsHtml + `<input type="text" class="tags-input" id="cityInput" placeholder="e.g., Austin, TX">`;

      // Re-setup event listener
      const newInput = document.getElementById('cityInput');
      newInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && newInput.value.trim()) {
          e.preventDefault();
          addCity(newInput.value.trim());
          newInput.value = '';
        }
      });
      newInput.focus();
    }

    function updateScrapeButton() {
      const industry = document.getElementById('scrapeIndustry').value;
      const btn = document.getElementById('startScrapeBtn');
      btn.disabled = !industry || state.selectedCities.length === 0;
    }

    // Update when industry changes
    document.addEventListener('DOMContentLoaded', () => {
      const industrySelect = document.getElementById('scrapeIndustry');
      if (industrySelect) {
        industrySelect.addEventListener('change', () => {
          renderCityTags();
          updateScrapeButton();
        });
      }
    });

    // ===== SCRAPING =====
    async function startScrape() {
      const industry = document.getElementById('scrapeIndustry').value;
      const maxResults = document.getElementById('scrapeMaxResults').value;
      const btn = document.getElementById('startScrapeBtn');
      const progressContainer = document.getElementById('scrapeProgress');
      const progressBar = document.getElementById('scrapeProgressBar');
      const progressText = document.getElementById('scrapeProgressText');

      // Filter out already scraped
      const citiesToScrape = state.selectedCities.filter(city =>
        !state.scrapedCities.some(
          s => s.city.toLowerCase() === city.toLowerCase() && s.industry === industry
        )
      );

      if (citiesToScrape.length === 0) {
        showToast('info', 'All selected cities have already been scraped for this industry.');
        return;
      }

      btn.classList.add('loading');
      btn.disabled = true;
      progressContainer.classList.add('active');
      state.currentResults = [];

      for (let i = 0; i < citiesToScrape.length; i++) {
        const city = citiesToScrape[i];
        const progress = ((i + 1) / citiesToScrape.length) * 100;

        progressBar.style.width = `${progress}%`;
        progressText.textContent = `Scraping ${city}... (${i + 1}/${citiesToScrape.length})`;

        try {
          // Record the scrape
          const response = await fetch(`${API_BASE}/record-scrape`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              city,
              industry,
              lead_count: parseInt(maxResults)
            })
          });

          if (response.ok) {
            // Generate mock leads for demo
            const leads = generateMockLeads(city, industry, parseInt(maxResults));
            state.currentResults = [...state.currentResults, ...leads];
          }
        } catch (err) {
          console.error(`Failed to scrape ${city}:`, err);
        }
      }

      progressText.textContent = 'Complete!';
      btn.classList.remove('loading');
      btn.disabled = false;

      // Update stats
      await loadUserData();
      renderResults();

      document.getElementById('exportCsvBtn').disabled = false;
      document.getElementById('syncGhlBtn').disabled = false;

      // Clear selected cities
      state.selectedCities = [];
      renderCityTags();

      showToast('success', `Found ${state.currentResults.length} leads!`);

      setTimeout(() => {
        progressContainer.classList.remove('active');
      }, 2000);
    }

    function generateMockLeads(city, industry, count) {
      const leads = [];
      const businessPrefixes = ['Elite', 'Premier', 'Quality', 'Advanced', 'Pro', 'Expert', 'Best', 'Top'];
      const businessSuffixes = {
        dentist: ['Dental', 'Dentistry', 'Dental Care', 'Family Dental'],
        lawyer: ['Law Firm', 'Legal', 'Attorneys', 'Law Office'],
        plumber: ['Plumbing', 'Plumbing Co', 'Plumbing Services'],
        electrician: ['Electric', 'Electrical', 'Electric Co'],
        default: ['Services', 'Solutions', 'Group', 'Co']
      };

      for (let i = 0; i < Math.min(count, 20); i++) {
        const prefix = businessPrefixes[Math.floor(Math.random() * businessPrefixes.length)];
        const suffixes = businessSuffixes[industry] || businessSuffixes.default;
        const suffix = suffixes[Math.floor(Math.random() * suffixes.length)];

        leads.push({
          id: `lead_${Date.now()}_${i}`,
          business_name: `${prefix} ${suffix}`,
          email: `contact@${prefix.toLowerCase()}${suffix.replace(/\s/g, '').toLowerCase()}.com`,
          phone: `(${Math.floor(Math.random() * 900) + 100}) ${Math.floor(Math.random() * 900) + 100}-${Math.floor(Math.random() * 9000) + 1000}`,
          city: city,
          industry: industry,
          verified: Math.random() > 0.3,
          scraped_at: new Date().toISOString()
        });
      }
      return leads;
    }

    function renderResults() {
      const container = document.getElementById('scrapeResults');

      if (state.currentResults.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">&#x1F50E;</div>
            <div class="empty-state-title">No results yet</div>
            <div class="empty-state-text">Configure your search above and click "Start Scraping"</div>
          </div>
        `;
        return;
      }

      container.innerHTML = `
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Business</th>
                <th>Email</th>
                <th>Phone</th>
                <th>City</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${state.currentResults.map(lead => `
                <tr>
                  <td><strong>${lead.business_name}</strong></td>
                  <td>${lead.email}</td>
                  <td>${lead.phone}</td>
                  <td>${lead.city}</td>
                  <td>
                    <span class="badge ${lead.verified ? 'badge-success' : 'badge-warning'}">
                      ${lead.verified ? '&#x2713; Verified' : '&#x26A0; Unverified'}
                    </span>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
    }

    // ===== EXPORT & SYNC =====
    function exportToCsv() {
      if (state.currentResults.length === 0) return;

      const headers = ['Business Name', 'Email', 'Phone', 'City', 'Industry', 'Verified', 'Scraped At'];
      const rows = state.currentResults.map(l => [
        l.business_name,
        l.email,
        l.phone,
        l.city,
        l.industry,
        l.verified ? 'Yes' : 'No',
        l.scraped_at
      ]);

      const csv = [headers, ...rows].map(r => r.join(',')).join('\n');
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.href = url;
      a.download = `leadforge_export_${Date.now()}.csv`;
      a.click();

      showToast('success', 'Leads exported to CSV!');
    }

    async function syncToGhl() {
      if (!state.ghlConfig.apiKey) {
        showToast('error', 'Please configure your GHL API key first.');
        showDashboardView('ghl');
        return;
      }

      const btn = document.getElementById('syncGhlBtn');
      btn.classList.add('loading');
      btn.disabled = true;

      // Simulate sync
      await sleep(2000);

      btn.classList.remove('loading');
      btn.disabled = false;

      const syncedCount = state.currentResults.length;
      document.getElementById('statGhlSynced').textContent =
        parseInt(document.getElementById('statGhlSynced').textContent) + syncedCount;

      showToast('success', `${syncedCount} leads synced to GoHighLevel!`);
    }

    // ===== GHL SETTINGS =====
    function saveGhlKey() {
      const key = document.getElementById('ghlApiKey').value;
      if (!key || key.includes('')) return;

      state.ghlConfig.apiKey = key;
      localStorage.setItem('leadforge_ghl', JSON.stringify(state.ghlConfig));

      document.getElementById('ghlApiKey').value = '';
      document.getElementById('ghlStatus').innerHTML = `
        <span class="badge badge-success">Connected</span>
        <span style="color: var(--text-secondary); font-size: 14px;">Ready to sync leads</span>
      `;

      showToast('success', 'GHL API key saved!');
    }

    function saveGhlLocation() {
      const locationId = document.getElementById('ghlLocationId').value;
      state.ghlConfig.locationId = locationId;
      localStorage.setItem('leadforge_ghl', JSON.stringify(state.ghlConfig));
      showToast('success', 'Location ID saved!');
    }

    // ===== TOAST NOTIFICATIONS =====
    function showToast(type, message) {
      const container = document.getElementById('toastContainer');
      const icons = {
        success: '&#x2713;',
        error: '&#x2717;',
        info: '&#x2139;'
      };

      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.innerHTML = `
        <span class="toast-icon">${icons[type]}</span>
        <span class="toast-message">${message}</span>
      `;

      container.appendChild(toast);

      setTimeout(() => {
        toast.style.animation = 'slideIn 0.3s ease reverse';
        setTimeout(() => toast.remove(), 300);
      }, 4000);
    }

    // ===== UTILITIES =====
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
  </script>
</body>
</html>
